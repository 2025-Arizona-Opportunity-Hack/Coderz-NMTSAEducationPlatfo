{# Reusable Alert Component - Accessible with ARIA live regions
   Usage:
   {% include 'components/alert.html' with message='Success!' type='success' %}

   Parameters:
   - message: Alert message text (required)
   - type: success|info|warning|error (default: info)
   - dismissible: true|false - Show close button (default: false)
   - icon: true|false - Show icon (default: true)
   - title: Optional title for the alert
   - id: Alert ID for JavaScript targeting (optional)
#}

<div {% if id %}id="{{ id }}"{% endif %}
     class="flex items-start gap-3 p-4 rounded-lg border-2 mb-4
            {% if type == 'success' %}bg-[color:var(--color-success-bg)] border-[color:var(--color-success)] text-[color:var(--color-success)]
            {% elif type == 'warning' %}bg-[color:var(--color-warning-bg)] border-[color:var(--color-warning)] text-[color:var(--color-warning)]
            {% elif type == 'error' %}bg-[color:var(--color-error-bg)] border-[color:var(--color-error)] text-[color:var(--color-error)]
            {% else %}bg-[color:var(--color-info-bg)] border-[color:var(--color-info)] text-[color:var(--color-info)]{% endif %}"
     role="alert"
     aria-live="{% if type == 'error' %}assertive{% else %}polite{% endif %}"
     aria-atomic="true">
    
    <!-- Icon -->
    {% if icon %}
    <div class="flex-shrink-0 mt-0.5" aria-hidden="true">
        {% if type == 'success' %}
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9 12l2 2 4-4"/>
        </svg>
        {% elif type == 'warning' %}
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            <line x1="12" y1="9" x2="12" y2="13"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
        </svg>
        {% elif type == 'error' %}
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <line x1="15" y1="9" x2="9" y2="15"/>
            <line x1="9" y1="9" x2="15" y2="15"/>
        </svg>
        {% else %}
        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 16v-4M12 8h.01"/>
        </svg>
        {% endif %}
    </div>
    {% endif %}
    
    <!-- Content -->
    <div class="flex-1 min-w-0">
        {% if title %}
        <h4 class="text-base font-bold mb-1">{{ title }}</h4>
        {% endif %}
        <p class="text-sm sm:text-base leading-relaxed {% if type == 'success' %}text-[color:var(--color-success)]{% elif type == 'warning' %}text-[color:var(--color-warning)]{% elif type == 'error' %}text-[color:var(--color-error)]{% else %}text-[color:var(--color-info)]{% endif %}">
            {{ message }}
        </p>
    </div>
    
    <!-- Dismiss Button -->
    {% if dismissible %}
    <button type="button"
            class="flex-shrink-0 p-1 rounded hover:bg-black/10 focus:outline-none focus:ring-2 focus:ring-focus min-h-touch min-w-touch"
            onclick="this.parentElement.remove()"
            aria-label="Dismiss alert">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
    </button>
    {% endif %}
</div>
