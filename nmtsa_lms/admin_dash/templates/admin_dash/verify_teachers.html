{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Verify Teachers - Admin Dashboard" %}{% endblock %}

{% block content %}
<section style="max-width: 1200px; margin: 0 auto; padding: var(--spacing-2xl) var(--spacing-xl);">
  <div style="margin-bottom: var(--spacing-2xl);">
    <h1
      style="font-size: calc(2.5rem * var(--font-scale)); margin-bottom: var(--spacing-lg); color: var(--text-primary);">
      {% trans "Teacher Verification Queue" %}
    </h1>
    <p style="font-size: calc(1.125rem * var(--font-scale)); color: var(--text-secondary);">
      {% trans "Review and approve teacher applications" %}
    </p>
  </div>

  {% if pending_teachers %}
  <div style="display: grid; gap: var(--spacing-xl);">
    {% for teacher_profile in pending_teachers %}
    <div class="card" style="padding: var(--spacing-xl); border-left: 4px solid var(--warning);">
      <div
        style="display: flex; justify-content: space-between; align-items: start; gap: var(--spacing-lg); flex-wrap: wrap;">
        <div style="flex: 1; min-width: 300px;">
          <h3
            style="font-size: calc(1.5rem * var(--font-scale)); margin-bottom: var(--spacing-sm); color: var(--text-primary);">
            {{ teacher_profile.user.get_full_name }}
          </h3>
          <p style="color: var(--text-secondary); margin-bottom: var(--spacing-lg);">
            {{ teacher_profile.user.email }}
          </p>

          <div style="display: grid; gap: var(--spacing-md); margin-bottom: var(--spacing-lg);">
            <div>
              <strong style="color: var(--text-primary);">{% trans "Specialization:" %}</strong>
              <span style="color: var(--text-secondary);">{{ teacher_profile.specialization }}</span>
            </div>
            <div>
              <strong style="color: var(--text-primary);">{% trans "Experience:" %}</strong>
              <span style="color: var(--text-secondary);">{{ teacher_profile.years_experience }} {% trans "years"
                %}</span>
            </div>
            <div>
              <strong style="color: var(--text-primary);">{% trans "Applied:" %}</strong>
              <span style="color: var(--text-secondary);">{{ teacher_profile.created_at|date:"F j, Y" }}</span>
            </div>
          </div>

          <div style="margin-bottom: var(--spacing-lg);">
            <strong style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary);">{% trans
              "Bio:" %}</strong>
            <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
              {{ teacher_profile.bio|truncatewords:50 }}
            </p>
          </div>

          <div style="margin-bottom: var(--spacing-lg);">
            <strong style="display: block; margin-bottom: var(--spacing-sm); color: var(--text-primary);">{% trans
              "Credentials:" %}</strong>
            <p style="color: var(--text-secondary); line-height: 1.7; margin: 0;">
              {{ teacher_profile.credentials|truncatewords:30 }}
            </p>
          </div>

          <div style="display: flex; gap: var(--spacing-md); flex-wrap: wrap;">
            {% if teacher_profile.resume %}
            <a href="{{ teacher_profile.resume.url }}" target="_blank" class="btn btn-outline btn-sm"
              style="text-decoration: none;">
              {% trans "ðŸ“„ View Resume" %}
            </a>
            {% endif %}
            {% if teacher_profile.certifications %}
            <a href="{{ teacher_profile.certifications.url }}" target="_blank" class="btn btn-outline btn-sm"
              style="text-decoration: none;">
              {% trans "ðŸŽ“ View Certifications" %}
            </a>
            {% endif %}
          </div>
        </div>

        <div style="display: flex; flex-direction: column; gap: var(--spacing-md); min-width: 200px;">
          <a href="{% url 'admin_verify_teacher_action' teacher_profile.id %}" class="btn btn-primary"
            style="text-decoration: none; text-align: center;">
            {% trans "Review Application" %}
          </a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <div class="card" style="padding: var(--spacing-3xl); text-align: center;">
    <svg width="80" height="80" fill="none" stroke="var(--text-secondary)" stroke-width="2" viewBox="0 0 24 24"
      style="margin: 0 auto var(--spacing-xl);">
      <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
    <h3
      style="font-size: calc(1.5rem * var(--font-scale)); margin-bottom: var(--spacing-md); color: var(--text-primary);">
      All Caught Up!
    </h3>
    <p style="color: var(--text-secondary); font-size: calc(1.125rem * var(--font-scale));">
      There are no pending teacher applications to review
    </p>
  </div>
  {% endif %}
</section>
{% endblock %}